"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[486],{486:function(e,t,s){s.r(t),s.d(t,{default:function(){return ee}});var a=s(252),r=s(577);const l={class:"container-fluid"},i={class:"row px-xl-5"},d={class:"col-12"},c={class:"breadcrumb bg-light mb-30"},o={class:"breadcrumb-item active"},n={class:"me-1"},u={key:0,class:"p-2 badge text-bg-warning text-capitalize"},p={key:1,class:"p-2 badge text-bg-info text-capitalize"},g={key:2,class:"p-2 badge text-bg-danger text-capitalize"},b={key:3,class:"p-2 badge text-bg-dark text-capitalize"},_={key:4,class:"p-2 badge text-bg-success text-capitalize"},h={class:"container-fluid"},m={class:"row px-xl-5"},w={class:"col-lg-8 table-responsive mb-5"},k={class:"table table-light table-borderless table-hover text-center mb-0"},v=(0,a._)("thead",{class:"thead-dark"},[(0,a._)("tr",null,[(0,a._)("th"),(0,a._)("th",null,"Products"),(0,a._)("th",null,"Price"),(0,a._)("th",null,"Quantity"),(0,a._)("th",null,"Total"),(0,a._)("th",null,"More")])],-1),y={key:0},x=(0,a._)("tr",null,[(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center my-5 py-5"},[(0,a._)("div",{class:"spinner-border",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")])])])],-1),f=[x],z={class:"align-middle"},D={class:"align-middle"},M=["src"],O={class:"text-start align-middle"},q={class:"align-middle"},S={class:"align-middle"},K={class:"align-middle"},P={class:"align-middle"},H={key:0},T={key:1},U=(0,a._)("h4",{class:"mt-5 pt-4 text-center"},"Order Status and Remarks by shop",-1),j={class:"list-group list-group-flush"},C={class:"col-lg-4"},L=(0,a._)("h5",{class:"section-title position-relative text-uppercase mb-3"},[(0,a._)("span",{class:"bg-secondary pr-3"},"Order Summary")],-1),W={class:"bg-light p-30 mb-5"},$={class:"border-bottom pb-2"},Z={class:"d-flex justify-content-between mb-3"},A=(0,a._)("h6",null,"Subtotal",-1),Y={class:"d-flex justify-content-between mb-3"},E=(0,a._)("h6",null,"Delivery Fee",-1),F={class:"border-bottom mt-4"},J={class:"d-flex justify-content-between mb-3"},N=(0,a._)("h6",null,"Total",-1),Q={class:"pt-2"};function R(e,t,s,x,R,B){const G=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",l,[(0,a._)("div",i,[(0,a._)("div",d,[(0,a._)("nav",c,[(0,a.Wm)(G,{to:"/",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Wm)(G,{to:"/shop",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Shop")])),_:1}),(0,a.Wm)(G,{to:"/orders",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("My Orders")])),_:1}),(0,a._)("span",o,[(0,a._)("span",n,(0,r.zw)(this.$route.params.id),1),"pending"==R.order.status?((0,a.wg)(),(0,a.iD)("span",u,(0,r.zw)(R.order.status),1)):"accept"==R.order.status?((0,a.wg)(),(0,a.iD)("span",p,(0,r.zw)(R.order.status),1)):"reject"==R.order.status?((0,a.wg)(),(0,a.iD)("span",g,(0,r.zw)(R.order.status),1)):"delivered"==R.order.status?((0,a.wg)(),(0,a.iD)("span",b,(0,r.zw)(R.order.status),1)):"success"==R.order.status?((0,a.wg)(),(0,a.iD)("span",_,(0,r.zw)(R.order.status),1)):(0,a.kq)("",!0)])])])])]),(0,a._)("div",h,[(0,a._)("div",m,[(0,a._)("div",w,[(0,a._)("table",k,[v,R.isLoading?((0,a.wg)(),(0,a.iD)("tbody",y,f)):(0,a.kq)("",!0),(0,a._)("tbody",z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.items,((t,s)=>((0,a.wg)(),(0,a.iD)("tr",{key:s},[(0,a._)("td",D,[(0,a._)("img",{src:e.imagePath+t.image,alt:"",style:{width:"50px"}},null,8,M)]),(0,a._)("td",O,[(0,a.Wm)(G,{class:"text-dark",to:"/shop/products/"+t.product_id},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(t.name),1)])),_:2},1032,["to"])]),(0,a._)("td",q,(0,r.zw)(t.price)+" MMK",1),(0,a._)("td",S,(0,r.zw)(t.qty),1),(0,a._)("td",K,(0,r.zw)(t.price*t.qty)+" MMK",1),(0,a._)("td",P,[t.color?((0,a.wg)(),(0,a.iD)("span",H,"Color-"+(0,r.zw)(t.color),1)):(0,a.kq)("",!0),(0,a.Uk)(" , "),t.size?((0,a.wg)(),(0,a.iD)("span",T,"Size:"+(0,r.zw)(t.size),1)):(0,a.kq)("",!0)])])))),128))])]),U,(0,a._)("ul",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.remarks,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"list-group-item"},(0,r.zw)(e),1)))),128))])]),(0,a._)("div",C,[L,(0,a._)("div",W,[(0,a._)("div",$,[(0,a._)("div",Z,[A,(0,a._)("h6",null,(0,r.zw)(B.getsubTotal)+" MMK",1)]),(0,a._)("div",Y,[E,(0,a._)("h6",null,(0,r.zw)(R.order.delivery_charges)+" MMK",1)])]),(0,a._)("div",F,[(0,a._)("div",J,[N,(0,a._)("h6",null,(0,r.zw)(R.order.delivery_charges+B.getsubTotal)+" MMK",1)])]),(0,a._)("div",Q,["delivered"==R.order.status?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>B.acceptOrder(R.order.order_id)),class:"btn btn-block btn-success font-weight-bold my-3 py-3"},"Accept")):(0,a.kq)("",!0)])])])])])])}var B=s(196),G=s(907),I={data(){return{items:[],order:{},remarks:[],isLoading:!0}},methods:{getOrders(){let e=this.api+"/order/info/"+this.$route.params.id;B.ZP.post(e,{},this.authHeader).then((e=>{this.items=e.data.order_items,this.isLoading=!1,this.order=e.data.order,this.remarks=JSON.parse(e.data.order.remark).reverse()}))},acceptOrder(e){const t=this.api+"/order/accept/"+e;B.ZP.post(t,{},this.authHeader).then((e=>{e.data.success&&(this.$swal.fire("Success","Order is Accepted","success"),this.getOrders())}))}},computed:{...(0,G.rn)(["api","imagePath"]),...(0,G.Se)(["authHeader"]),getsubTotal(){let e=0;return this.items.forEach((t=>{e+=t.qty*t.price})),e}},mounted(){this.getOrders(),this.$store.state.activePage="orders"}},V=s(744);const X=(0,V.Z)(I,[["render",R]]);var ee=X}}]);
//# sourceMappingURL=486.8bac86ea.js.map