{"version":3,"file":"js/152.f502bced.js","mappings":"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","sources":["webpack://vue-shop/./src/views/CheckoutView.vue","webpack://vue-shop/./src/views/CheckoutView.vue?d317"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container-fluid\">\r\n            <div class=\"row px-xl-5\">\r\n                <div class=\"col-12\">\r\n                    <nav class=\"breadcrumb bg-light mb-30\">\r\n                        <a class=\"breadcrumb-item text-dark\" href=\"#\">Home</a>\r\n                        <a class=\"breadcrumb-item text-dark\" href=\"#\">Shop</a>\r\n                        <span class=\"breadcrumb-item active\">Checkout</span>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"container-fluid\">\r\n            <form @submit=\"placeOrder()\">\r\n                <div class=\"row px-xl-5\">\r\n                    <div class=\"col-lg-8\">\r\n                        <h5 class=\"section-title position-relative text-uppercase mb-3\"><span\r\n                                class=\"bg-secondary pr-3\">Billing Address</span></h5>\r\n                        <div class=\"bg-light p-30 mb-5\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>Name</label>\r\n                                    <input required :value=\"userInfo.name\" readonly class=\"form-control\" type=\"text\"\r\n                                        placeholder=\"John\">\r\n                                </div>\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>E-mail</label>\r\n                                    <input required readonly :value=\"userInfo.email\" class=\"form-control\" type=\"text\"\r\n                                        placeholder=\"example@email.com\">\r\n                                </div>\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>Mobile No-1</label>\r\n                                    <input required v-model=\"userData.phone_1\" class=\"form-control\" type=\"tel\"\r\n                                        placeholder=\"+123 456 789\">\r\n                                </div>\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>Mobile No-2</label>\r\n                                    <input required v-model=\"userData.phone_2\" class=\"form-control\" type=\"tel\"\r\n                                        placeholder=\"+123 456 789\">\r\n                                </div>\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>City</label>\r\n                                    <select required @change=\"changeTown()\" v-model=\"userData.city\"\r\n                                        class=\"custom-select\">\r\n                                        <option value=\"\">Please Select City..</option>\r\n                                        <option :value=\"city.toLowerCase()\" v-for=\"(city, index) in cities\"\r\n                                            :key=\"index\">{{ city }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-6 form-group\">\r\n                                    <label>Township</label>\r\n                                    <select required v-model=\"userData.township\" class=\"custom-select\">\r\n                                        <option value=\"\">Please Select Township..</option>\r\n                                        <option :value=\"town.toLowerCase()\" v-for=\"(town, index) in getTownship()\"\r\n                                            :key=\"index\">{{ town }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <label>payment</label>\r\n                                    <select required v-model=\"userData.payment\" class=\"custom-select\">\r\n                                        <option value=\"cach\">Cach</option>\r\n                                        <option value=\"wave pay\">Wave Pay</option>\r\n                                        <option value=\"kpay\">Kpay</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"col-md-12 form-group\">\r\n                                    <label>Address</label>\r\n                                    <textarea required v-model=\"userData.address\" rows=\"6\"\r\n                                        class=\"form-control\"></textarea>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-lg-4\">\r\n                        <h5 class=\"section-title position-relative text-uppercase mb-3\"><span\r\n                                class=\"bg-secondary pr-3\">Order Total</span></h5>\r\n                        <div class=\"bg-light p-30 mb-5\">\r\n                            <div class=\"border-bottom\">\r\n                                <h6 class=\"mb-3\">Products</h6>\r\n                                <div v-for=\"(cart, index) in carts\" :key=\"index\" class=\"d-flex justify-content-between\">\r\n                                    <p class=\"col-7\">{{ cart.name }} x {{ cart.qty }}</p>\r\n                                    <p>{{ getProductInfo(cart.information, 'price') * cart.qty }}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"border-bottom pt-3 pb-2\">\r\n                                <div class=\"d-flex justify-content-between mb-3\">\r\n                                    <h6>Subtotal</h6>\r\n                                    <h6>{{ getsubTotal }} MMK</h6>\r\n                                </div>\r\n                                <div class=\"d-flex justify-content-between\">\r\n                                    <h6 class=\"font-weight-medium\">Delivery Fee</h6>\r\n                                    <h6 class=\"font-weight-medium\">{{ userData.deliveryFee }} MMK</h6>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"pt-2\">\r\n                                <div class=\"d-flex justify-content-between mt-2\">\r\n                                    <h5>Total</h5>\r\n                                    <h5>{{ getsubTotal + userData.deliveryFee }}</h5>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"mb-5\">\r\n                            <div class=\"bg-light p-30\">\r\n                                <button :disabled=\"!dataStatus\"\r\n                                    class=\"btn btn-block btn-primary font-weight-bold py-3\">Place Order</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { mapGetters, mapState } from 'vuex';\r\nexport default {\r\n    name: 'CheckoutView',\r\n    data() {\r\n        return {\r\n            carts: [],\r\n            userData: {\r\n                phone_1: '',\r\n                phone_2: '',\r\n                city: '',\r\n                township: '',\r\n                deliveryFee: 0,\r\n                address: '',\r\n                payment: 'cach'\r\n            },\r\n            townships: {\r\n                yangon: ['North Okkalapa', 'South Okkalapa', 'Bahan', 'Mayangyone', 'Thingangyun', 'Thakatha', 'Lamadaw'],\r\n                bago: ['OkaPho', 'ThanatPin']\r\n            },\r\n            cities: ['Yangon', 'Bago']\r\n        }\r\n    },\r\n    methods: {\r\n        getOldDetail() {\r\n            axios.get(this.api + '/order/old_detail', this.authHeader).then(r => {\r\n                if (r.data) {\r\n                    this.userData.phone_2 = r.data.phone_2;\r\n                    let address = r.data.city.split(',');\r\n                    this.userData.city = address[0].trim();\r\n                    this.changeTown();\r\n                    this.userData.township = address[1].trim();\r\n                    this.userData.address = r.data.address;\r\n                }\r\n            });\r\n        },\r\n        getCarts() {\r\n            axios.post(this.api + '/cart', {}, this.authHeader).then(r => {\r\n                this.carts = r.data;\r\n                this.userData.phone_1 = this.userInfo.phone;\r\n\r\n            })\r\n        },\r\n        getProductInfo(info, text) {\r\n            const infos = JSON.parse(info);\r\n            let value = '';\r\n            for (let i = 0; i < infos.length; i++) {\r\n                if (infos[i].key.toLowerCase() == text) {\r\n                    value = infos[i].value;\r\n                    break;\r\n                }\r\n            }\r\n            return value;\r\n        },\r\n        changeTown() {\r\n            this.userData.township = '';\r\n            if (this.userData.city == 'yangon') {\r\n                this.userData.deliveryFee = 3000\r\n            } else if (this.userData.city == 'bago') {\r\n                this.userData.deliveryFee = 5000\r\n            } else if (this.userData.city == '') {\r\n                this.userData.deliveryFee = 0\r\n            }\r\n        },\r\n        getTownship() {\r\n            if (this.userData.city == 'yangon') {\r\n                return this.townships.yangon;\r\n            } else if (this.userData.city == 'bago') {\r\n                return this.townships.bago;\r\n            }\r\n        },\r\n        placeOrder() {\r\n            event.preventDefault();\r\n            if (this.isActive) {\r\n                axios.post(this.api + '/order/add', this.userData, this.authHeader).then(r => {\r\n                    if (r.data.success) {\r\n                        this.$swal.fire('Success', 'Order Created.', 'success');\r\n                        this.$router.push('/shop');\r\n                        this.$store.dispatch('getCartQty');\r\n                    }\r\n                    if (r.data.error) {\r\n                        let errText = '';\r\n                        r.data.error.forEach(err => {\r\n                            errText += err;\r\n                            if (err == 'Please activate account first!') {\r\n                                this.$router.push('/otp_confirm')\r\n                            }\r\n                        });\r\n                        this.$swal.fire('Error', errText, 'error');\r\n                    }\r\n                })\r\n            }else{\r\n                this.$router.push('/otp_confirm')\r\n            }\r\n\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState(['api', 'userInfo']),\r\n        ...mapGetters(['authHeader', 'isActive']),\r\n        getsubTotal() {\r\n            let value = 0;\r\n            this.carts.forEach(cart => {\r\n                value += cart.qty * this.getProductInfo(cart.information, 'price');\r\n            });\r\n            return value;\r\n        },\r\n        dataStatus() {\r\n            if (this.userData.phone_1 == '' || this.userData.phone_2 == '' || this.userData.city == '' || this.userData.township == '' ||\r\n                this.userData.deliveryFee == 0 || this.userData.address == ''\r\n            ) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getCarts();\r\n        this.getOldDetail();\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./CheckoutView.vue?vue&type=template&id=726b9938\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\a to z\\\\projects\\\\shop_vue+laravel\\\\vue-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","value","placeOrder","required","userInfo","name","readonly","type","placeholder","email","userData","phone_1","phone_2","changeTown","cities","city","index","toLowerCase","key","getTownship","town","township","payment","rows","address","carts","cart","qty","getProductInfo","information","getsubTotal","deliveryFee","disabled","dataStatus","data","townships","yangon","bago","methods","getOldDetail","axios","this","api","authHeader","then","r","split","trim","getCarts","phone","info","text","infos","JSON","parse","i","length","event","preventDefault","isActive","success","$swal","fire","$router","push","$store","dispatch","error","errText","forEach","err","computed","mounted","__exports__","render"],"sourceRoot":""}