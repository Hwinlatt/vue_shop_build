"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[463],{463:function(t,e,s){s.r(e),s.d(e,{default:function(){return Vt}});var a=s(252),i=s(577),o=s(963);const r={style:{"min-height":"70vh"}},l={class:"container-fluid"},n={class:"row px-xl-5"},c={class:"col-12"},d={class:"breadcrumb bg-light mb-30"},m=(0,a._)("span",{class:"breadcrumb-item active"},"Product Detail ",-1),u={key:0,class:"container-fluid pb-5"},h={class:"row px-xl-5"},p={class:"col-lg-5 mb-30"},g={id:"product-carousel",class:"carousel slide","data-ride":"carousel"},f={class:"carousel-inner bg-light"},b={class:"carousel-item active"},_=["src"],w={class:"col-lg-7 h-auto mb-30"},v={class:"h-100 bg-light p-30"},k={class:"d-flex mb-3"},y={class:"text-primary mr-2"},C={key:0,class:"fa-solid fa-star"},x={key:1,class:"fa-regular fa-star"},D={class:"pt-1"},z={class:"font-weight-semi-bold mb-4"},B={class:"mb-4"},P={key:0,class:"d-flex mb-3"},q=(0,a._)("strong",{class:"text-dark mr-3"},"Sizes:",-1),L=["onUpdate:modelValue","value","id"],$=["for"],I={key:1,class:"d-flex mb-4"},F=(0,a._)("strong",{class:"text-dark mr-3"},"Colors:",-1),S=["onUpdate:modelValue","checked","value","id"],U=["for"],Y={class:"d-flex align-items-center mb-4 pt-2"},H={class:"input-group quantity mr-3",style:{width:"130px"}},R={class:"input-group-btn"},T=["disabled"],M=(0,a._)("i",{class:"fa fa-minus"},null,-1),K=[M],A={class:"input-group-btn"},V=["disabled"],E=(0,a._)("i",{class:"fa fa-plus"},null,-1),Z=[E],N={key:0,class:"btn btn-primary",type:"button",disabled:""},Q=(0,a._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),W=(0,a._)("i",{class:"fa fa-shopping-cart mr-1"},null,-1),G=(0,a.uE)('<div class="d-flex pt-2"><strong class="text-dark mr-2">Share on:</strong><div class="d-inline-flex"><a class="text-dark px-2" href=""><i class="fab fa-facebook-f"></i></a><a class="text-dark px-2" href=""><i class="fab fa-twitter"></i></a><a class="text-dark px-2" href=""><i class="fab fa-linkedin-in"></i></a><a class="text-dark px-2" href=""><i class="fab fa-pinterest"></i></a></div></div>',1),J={class:"row px-xl-5"},O={class:"col"},j={class:"bg-light p-30"},X={class:"nav nav-tabs mb-4"},tt=(0,a._)("a",{class:"nav-item nav-link text-dark active","data-toggle":"tab",href:"#tab-pane-1"},"Description",-1),et=(0,a._)("a",{class:"nav-item nav-link text-dark","data-toggle":"tab",href:"#tab-pane-2"},"Information",-1),st={class:"nav-item nav-link text-dark","data-toggle":"tab",href:"#tab-pane-3"},at={class:"tab-content"},it={class:"tab-pane fade show active",id:"tab-pane-1"},ot=(0,a._)("h4",{class:"mb-3"},"Product Description",-1),rt={class:"tab-pane fade",id:"tab-pane-2"},lt=(0,a._)("h4",{class:"mb-3"},"Additional Information",-1),nt={class:"table table-striped"},ct={class:"col-4"},dt={key:0},mt={class:"tab-pane fade",id:"tab-pane-3"},ut={class:"row"},ht={class:"col-md-6"},pt={class:"mb-4"},gt=["src"],ft=["src"],bt={class:"media-body"},_t=["onClick"],wt=(0,a._)("i",{class:"fa-solid fa-trash"},null,-1),vt=[wt],kt={class:"text-primary mb-2"},yt=["onClick"],Ct={key:0,class:"col-md-6"},xt=(0,a._)("h4",{class:"mb-4"},"Leave a review",-1),Dt=(0,a._)("small",null,"Your email address will not be published. Required fields are marked *",-1),zt={class:"d-flex my-3"},Bt=(0,a._)("p",{class:"mb-0 mr-2"},"Your Rating * :",-1),Pt={class:"text-primary"},qt=["onClick"],Lt={class:"form-group"},$t=(0,a._)("label",{for:"message"},"Your Review *",-1),It={class:"form-group mb-0"},Ft=["disabled"],St={key:1,class:"text-center my-5 py-5"},Ut=(0,a._)("div",{class:"spinner-border",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),Yt=[Ut];function Ht(t,e,s,M,E,wt){const Ut=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[(0,a._)("div",n,[(0,a._)("div",c,[(0,a._)("nav",d,[(0,a.Wm)(Ut,{to:"/",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Wm)(Ut,{to:"/shop",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Shop")])),_:1}),(0,a.Wm)(Ut,{to:"/shopPage/"+E.product.user_id+"/"+E.product.shop_name,class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(E.product.shop_name),1)])),_:1},8,["to"]),m])])])]),E.status?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",h,[(0,a._)("div",p,[(0,a._)("div",g,[(0,a._)("div",f,[(0,a._)("div",b,[(0,a._)("img",{class:"w-100 h-100",src:t.imagePath+E.product.image,alt:"Image"},null,8,_)])])])]),(0,a._)("div",w,[(0,a._)("div",v,[(0,a._)("h3",null,(0,i.zw)(E.product.name),1),(0,a._)("div",k,[(0,a._)("div",y,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(t=>(0,a._)("span",{key:t},[E.product_rating>=t?((0,a.wg)(),(0,a.iD)("i",C)):((0,a.wg)(),(0,a.iD)("i",x))]))),64))]),(0,a._)("small",D,"("+(0,i.zw)(E.comment_count)+" Reviews)",1)]),(0,a._)("h3",z,(0,i.zw)(wt.getProductInfo("price"))+" MMK",1),(0,a._)("p",B,"Remain : "+(0,i.zw)(E.product.qty),1),wt.getProductInfo("size").length>0?((0,a.wg)(),(0,a.iD)("div",P,[q,(0,a._)("span",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(wt.getSizes,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"custom-control custom-radio custom-control-inline",key:e},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>E.cart.size=t,type:"radio",class:"custom-control-input",value:t.toLowerCase(),id:"size"+e,name:"size"},null,8,L),[[o.G2,E.cart.size]]),(0,a._)("label",{class:"custom-control-label text-capitalize",for:"size"+e},(0,i.zw)(t),9,$)])))),128))])])):(0,a.kq)("",!0),wt.getProductInfo("color").length>0?((0,a.wg)(),(0,a.iD)("div",I,[F,(0,a._)("span",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(wt.getColors,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"custom-control custom-radio custom-control-inline",key:e},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t=>E.cart.color=t,checked:0==e,type:"radio",class:"custom-control-input",value:t.toLowerCase(),id:"color-"+e,name:"color"},null,8,S),[[o.G2,E.cart.color]]),(0,a._)("label",{class:"custom-control-label text-capitalize",for:"color-"+e},(0,i.zw)(t),9,U)])))),128))])])):(0,a.kq)("",!0),(0,a._)("div",Y,[(0,a._)("div",H,[(0,a._)("div",R,[(0,a._)("button",{onClick:e[0]||(e[0]=t=>wt.cartQty("-")),disabled:1==E.cart.qty,class:"btn btn-primary btn-minus"},K,8,T)]),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>E.cart.qty=t),class:"form-control bg-secondary border-0 text-center"},null,512),[[o.nr,E.cart.qty]]),(0,a._)("div",A,[(0,a._)("button",{onClick:e[2]||(e[2]=t=>wt.cartQty("+")),disabled:E.cart.qty==E.product.qty,class:"btn btn-primary btn-plus"},Z,8,V)])]),E.cartBtnLoading?((0,a.wg)(),(0,a.iD)("button",N,[Q,(0,a.Uk)(" Loading... ")])):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[3]||(e[3]=t=>wt.addToCart()),class:"btn btn-primary px-3"},[W,(0,a.Uk)(" Add To Cart")]))]),G])])]),(0,a._)("div",J,[(0,a._)("div",O,[(0,a._)("div",j,[(0,a._)("div",X,[tt,et,(0,a._)("a",st,"Reviews ("+(0,i.zw)(E.comment_count)+")",1)]),(0,a._)("div",at,[(0,a._)("div",it,[ot,(0,a._)("p",null,(0,i.zw)(E.product.description),1)]),(0,a._)("div",rt,[lt,(0,a._)("table",nt,[(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(wt.getProductAllInfo(),((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",ct,[(0,a._)("b",null,(0,i.zw)(t.key.toUpperCase()),1)]),(0,a._)("td",null,[(0,a.Uk)(" - "+(0,i.zw)(t.value)+" ",1),"price"==t.key.toLowerCase()?((0,a.wg)(),(0,a.iD)("span",dt," MMK")):(0,a.kq)("",!0)])])))),128))])])]),(0,a._)("div",mt,[(0,a._)("div",ut,[(0,a._)("div",ht,[(0,a._)("h4",pt,(0,i.zw)(E.comment_count)+' review for "Product Name"',1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.comments,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"media mb-4",key:s},[e.profile_photo_path?((0,a.wg)(),(0,a.iD)("img",{key:0,src:t.imagePath+e.profile_photo_path,alt:"Image",class:"img-fluid mr-3 mt-1",style:{width:"45px"}},null,8,gt)):((0,a.wg)(),(0,a.iD)("img",{key:1,src:t.server+"img/def_user.webp",alt:"Image",class:"img-fluid mr-3 mt-1",style:{width:"45px"}},null,8,ft)),(0,a._)("div",bt,[(0,a._)("h6",null,[(0,a.Uk)((0,i.zw)(e.name),1),(0,a._)("small",null,[(0,a.Uk)(" - "),(0,a._)("i",null,(0,i.zw)(wt.dateFmtChg(e.created_at)),1)]),e.user_id==t.userInfo.id?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t=>wt.cmtDelete(e.id),class:"ms-5 btn btn-danger btn-sm rounded"},vt,8,_t)):(0,a.kq)("",!0)]),(0,a._)("div",kt,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(t=>(0,a._)("i",{style:{cursor:"pointer"},onClick:e=>wt.chgRating(t),key:t,class:(0,i.C_)(["fa-star",{far:t>=e.rating,"fa-solid":t<=e.rating}])},null,10,yt))),64))]),(0,a._)("p",null,(0,i.zw)(e.comment),1)])])))),128)),(0,a._)("div",null,[wt.showMoreBtn?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[4]||(e[4]=t=>wt.cmtCountChg("more")),class:"btn btn-link"},"Show More")):(0,a.kq)("",!0),wt.showLessBtn?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[5]||(e[5]=t=>wt.cmtCountChg("less")),class:"btn btn-link"},"Show Less")):(0,a.kq)("",!0)])]),t.isActive?((0,a.wg)(),(0,a.iD)("div",Ct,[xt,Dt,(0,a._)("div",zt,[Bt,(0,a._)("div",Pt,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(t=>(0,a._)("i",{style:{cursor:"pointer"},onClick:e=>wt.chgRating(t),key:t,class:(0,i.C_)(["fa-star",{far:t>=E.cmtForm.rating,"fa-solid":t<=E.cmtForm.rating}])},null,10,qt))),64))])]),(0,a._)("div",Lt,[$t,(0,a.wy)((0,a._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>E.cmtForm.comment=t),id:"message",cols:"30",rows:"5",class:"form-control"},null,512),[[o.nr,E.cmtForm.comment]])]),(0,a._)("div",It,[(0,a._)("button",{disabled:E.cmtForm.comment.length<1,onClick:e[7]||(e[7]=t=>wt.submitCmt()),class:"btn btn-primary px-3"},"Submit",8,Ft)])])):(0,a.kq)("",!0)])])])])])])])):((0,a.wg)(),(0,a.iD)("div",St,Yt))])}var Rt=s(196),Tt=s(907),Mt={name:"ProductView",data(){return{status:!1,product:{name:"",information:"[]",image:"",description:"",qty:"",id:""},cart:{qty:1,color:"",size:""},cmtForm:{productId:this.$route.params.id,comment:"",rating:5},comments:[],comment_count:0,cmt_limit:5,product_rating:0,cartBtnLoading:!1}},methods:{getProduct(){this.$store.state.productView.lastSeen=this.$route.params.id,Rt.ZP.get(this.api+"/product/"+this.$route.params.id).then((t=>{this.product=t.data,this.status=!0,this.cart.color=this.getColors[0].toLowerCase(),this.cart.size=this.getSizes[0].toLowerCase()})),this.getComments(5)},getProductInfo(t){let e="";if(void 0!=this.product.information&&null!=this.product.information){const s=JSON.parse(this.product.information);s.forEach((s=>{if(s.key.toLowerCase()==t)return e=s.value,!1}))}return e},getProductAllInfo(){return JSON.parse(this.product.information)},cartQty(t){"-"==t&&(this.cart.qty-=1),"+"==t&&this.product.qty>this.cart.qty&&(this.cart.qty+=1)},addToCart(){this.cartBtnLoading=!0;const t={qty:this.cart.qty,productId:this.product.id,color:this.cart.color,size:this.cart.size};Rt.ZP.post(this.api+"/cart/add",t,this.authHeader).then((t=>{if(this.cartBtnLoading=!1,this.$store.dispatch("getCartQty"),t.data.success)this.$swal.fire("Success","Add to Cart.","success");else if(t.data.error){let e="";t.data.error.forEach((t=>{e+=t})),this.$swal.fire("Error",e,"error")}else t.data.change&&this.$swal.fire({icon:"info",title:"Remove carts from other!",text:"You have been choose another shop.The Carts items will be remove if you want to continue!",showDenyButton:!0,confirmButtonColor:"#FFCB0D",denyButtonText:"No",confirmButtonText:'<span class="text-dark">Yes Remove</span>'}).then((t=>{t.isConfirmed&&Rt.ZP.post(this.api+"/cart/delete",{},this.authHeader).then((t=>{t.data.success&&(this.$swal.fire("Success","Cart Items Removed","info"),this.addToCart())}))}))})).catch((t=>{this.cartBtnLoading=!1,401==t.response.status&&(this.userToken||this.$swal.fire({icon:"info",title:"Please Login First to Continue!",showDenyButton:!0,showCancelButton:!0,confirmButtonText:'<span class="text-dark">Login</span>',confirmButtonColor:"#FFCB0D",denyButtonText:"Register"}).then((t=>{t.isConfirmed?this.$router.push("/login"):t.isDenied&&this.$router.push("/register")})))}))},chgRating(t){this.cmtForm.rating=t},submitCmt(){Rt.ZP.post(this.api+"/cmt/add",this.cmtForm,this.authHeader).then((t=>{if(t.data.success)this.$swal.fire({position:"center",icon:"success",title:"Submitted comment.",showConfirmButton:!1,timer:1e3}),this.cmtForm.comment="",this.getComments();else if(t.data.error){let e="";t.data.error.forEach((t=>{e+=t})),this.$swal.fire("Error",e,"error")}}))},dateFmtChg(t){let e=new Date(t),s=e.getDate(),a=this.month[e.getMonth()],i=e.getFullYear();return s+"-"+a+"-"+i},getComments(){Rt.ZP.post(this.api+"/cmt/get/"+this.$route.params.id,{limit:this.cmt_limit}).then((t=>{this.comments=t.data.comments,this.comment_count=t.data.comment_count,this.product_rating=Math.round(t.data.rating/this.comment_count)}))},cmtCountChg(t){"more"==t&&(this.cmt_limit+=5),"less"==t&&(this.cmt_limit-=5),this.getComments()},cmtDelete(t){this.$swal.fire({title:"Are you sure to Delete this comment?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>{Rt.ZP.post(this.api+"/cmt/delete/"+t,{},this.authHeader).then((t=>{t.data.success&&e.isConfirmed&&(this.getComments(),this.$swal.fire({position:"center",icon:"success",title:"Comment Deleted.",showConfirmButton:!1,timer:1e3})),t.data.error&&this.$swal.fire("Error",t.data.error,"error")}))}))}},computed:{...(0,Tt.rn)(["api","imagePath","userInfo","userToken","server","month"]),...(0,Tt.Se)(["authHeader","isActive"]),getColors(){let t=this.getProductInfo("color").split(",");return t},getSizes(){let t=this.getProductInfo("size").split(",");return t},showMoreBtn(){return this.comments.length<this.comment_count},showLessBtn(){return this.cmt_limit>5}},beforeMount(){this.getProduct(),this.$store.state.activePage="productDetail"}},Kt=s(744);const At=(0,Kt.Z)(Mt,[["render",Ht]]);var Vt=At}}]);
//# sourceMappingURL=463.efc1a35f.js.map