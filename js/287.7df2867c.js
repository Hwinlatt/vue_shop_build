"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[287],{287:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var a=s(252),l=s(577);const i={class:"container-fluid"},r={class:"row px-xl-5"},d={class:"col-12"},n={class:"breadcrumb bg-light mb-30"},c=(0,a._)("span",{class:"breadcrumb-item active"},"My Orders",-1),o={class:"container-fluid"},g={class:"row px-xl-5"},u={class:"col-lg-8 table-responsive mb-5"},p={class:"table table-light table-borderless table-hover text-center mb-0"},h=(0,a._)("thead",{class:"thead-dark"},[(0,a._)("tr",null,[(0,a._)("th",null,"Order Id"),(0,a._)("th",null,"Delivery Charge"),(0,a._)("th",null,"Status"),(0,a._)("th",null,"Ordered date"),(0,a._)("th",null,"Deliver date"),(0,a._)("th",null,"More")])],-1),_={key:0},k=(0,a._)("tr",null,[(0,a._)("td",{colspan:"6"},[(0,a._)("div",{class:"text-center my-5 py-5"},[(0,a._)("div",{class:"spinner-border",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")])])])],-1),b=[k],w={key:1,class:"align-middle"},v={class:"align-middle"},m={class:"align-middle"},y={class:"align-middle"},x={key:0,class:"p-2 badge text-bg-warning text-capitalize"},D={key:1,class:"p-2 badge text-bg-info text-capitalize"},z={key:2,class:"p-2 badge text-bg-danger text-capitalize"},f={key:3,class:"p-2 badge text-bg-dark text-capitalize"},C={key:4,class:"p-2 badge text-bg-success text-capitalize"},O={class:"align-middle"},H={key:0},L={class:"align-middle"},P=["onClick"],M={key:0,class:"float-end mt-2"},q={"aria-label":"Page navigation example mt-5"},F={class:"pagination"},S=["onClick"],K={key:0},W={key:1},Y={key:2};function Z(e,t,s,k,Z,A){const U=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[(0,a._)("div",r,[(0,a._)("div",d,[(0,a._)("nav",n,[(0,a.Wm)(U,{to:"/",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Wm)(U,{to:"/shop",class:"breadcrumb-item text-dark"},{default:(0,a.w5)((()=>[(0,a.Uk)("Shop")])),_:1}),c])])])]),(0,a._)("div",o,[(0,a._)("div",g,[(0,a._)("div",u,[(0,a._)("table",p,[h,Z.isLoading?((0,a.wg)(),(0,a.iD)("tbody",_,b)):((0,a.wg)(),(0,a.iD)("tbody",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Z.orders.data,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",v,[(0,a.Wm)(U,{to:"orders/"+e.order_id},{default:(0,a.w5)((()=>[(0,a._)("h5",null,(0,l.zw)(e.order_id),1)])),_:2},1032,["to"])]),(0,a._)("td",m,(0,l.zw)(e.delivery_charges)+" MMK",1),(0,a._)("td",y,["pending"==e.status?((0,a.wg)(),(0,a.iD)("span",x,(0,l.zw)(e.status),1)):"accept"==e.status?((0,a.wg)(),(0,a.iD)("span",D,(0,l.zw)(e.status),1)):"reject"==e.status?((0,a.wg)(),(0,a.iD)("span",z,(0,l.zw)(e.status),1)):"delivered"==e.status?((0,a.wg)(),(0,a.iD)("span",f,(0,l.zw)(e.status),1)):"success"==e.status?((0,a.wg)(),(0,a.iD)("span",C,(0,l.zw)(e.status),1)):(0,a.kq)("",!0)]),(0,a._)("td",O,(0,l.zw)(A.dateFmtChg(e.created_at)),1),(0,a._)("td",null,[null!=e.deliver_date?((0,a.wg)(),(0,a.iD)("span",H,(0,l.zw)(A.dateFmtChg(e.deliver_date)),1)):(0,a.kq)("",!0)]),(0,a._)("td",L,["delivered"==e.status?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t=>A.acceptOrder(e.order_id),class:"btn btn-success"},"Accept",8,P)):(0,a.kq)("",!0)])])))),128))]))]),Z.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("nav",q,[(0,a._)("ul",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Z.orders.links,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:(0,l.C_)(["page-item",{active:e.active,"d-none":A.nextPrev(Z.orders,t)}])},[(0,a._)("span",{class:"page-link text-dark",onClick:t=>A.getOrders(e.url),style:{cursor:"pointer"}},[0==t?((0,a.wg)(),(0,a.iD)("span",K,"Back")):t+1==Z.orders.links.length?((0,a.wg)(),(0,a.iD)("span",W,"Next")):((0,a.wg)(),(0,a.iD)("span",Y,(0,l.zw)(e.label),1))],8,S)],2)))),128))])])]))])])])])}var A=s(196),U=s(907),$={data(){return{orders:[],isLoading:!0}},methods:{getOrders(e){let t=this.api+"/order";e&&(t=e),A.ZP.get(t,this.authHeader).then((e=>{this.orders=e.data,this.isLoading=!1})).catch((e=>{console.log(e),this.isLoading=!1}))},dateFmtChg(e){let t=new Date(e),s=t.getDate(),a=this.month[t.getMonth()],l=t.getFullYear();return s+"-"+a+"-"+l},nextPrev(e,t){return e.current_page+t==1||(e.current_page==e.last_page&&e.links.length==t+1||void 0)},acceptOrder(e){const t=this.api+"/order/accept/"+e;A.ZP.post(t,{},this.authHeader).then((e=>{e.data.success&&(this.$swal.fire("Success","Order is Accepted","success"),this.getOrders())}))}},computed:{...(0,U.rn)(["api","month"]),...(0,U.Se)(["authHeader"])},mounted(){this.$store.state.activePage="orders",this.getOrders()}},j=s(744);const B=(0,j.Z)($,[["render",Z]]);var I=B}}]);
//# sourceMappingURL=287.7df2867c.js.map