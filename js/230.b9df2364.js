"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[230],{400:function(a,e,s){s.r(e),s.d(e,{default:function(){return z}});var t=s(252),r=s(963);const l=a=>((0,t.dD)("data-v-979278bc"),a=a(),(0,t.Cn)(),a),o={class:"container-xl px-4 mt-4"},n={class:"nav nav-borders"},i=l((()=>(0,t._)("hr",{class:"mt-0 mb-4"},null,-1))),d={class:"row"},c={class:"col-xl-4"},p={class:"card mb-4 mb-xl-0"},m=l((()=>(0,t._)("div",{class:"card-header"},"Profile Picture",-1))),u={class:"card-body text-center"},h=["src"],f=["src"],b=l((()=>(0,t._)("div",{class:"small font-italic text-muted mb-4"},"JPG or PNG no larger than 5 MB",-1))),v=l((()=>(0,t._)("label",{for:"profile_image",class:"btn btn-primary",type:"button"},"Upload new image",-1))),_={class:"col-xl-8"},w={key:0,class:"card","aria-hidden":"true"},g=(0,t.uE)('<div class="card-body" data-v-979278bc><h5 class="card-title placeholder-glow" data-v-979278bc><span class="placeholder col-6" data-v-979278bc></span></h5><p class="card-text placeholder-glow" data-v-979278bc><span class="placeholder col-7" data-v-979278bc></span><span class="placeholder col-4" data-v-979278bc></span><span class="placeholder col-4" data-v-979278bc></span><span class="placeholder col-6" data-v-979278bc></span><span class="placeholder col-8" data-v-979278bc></span></p><a href="#" tabindex="-1" class="btn btn-primary disabled placeholder col-6" data-v-979278bc></a></div>',1),y=[g],P={key:1,class:"card mb-4"},D=l((()=>(0,t._)("div",{class:"card-header"},"Account Details",-1))),U={class:"card-body"},k={class:"mb-3"},I=l((()=>(0,t._)("label",{class:"small mb-1",for:"inputUsername"},"Username (how your name will appear to other users on the site)",-1))),x={class:"mb-3"},E=l((()=>(0,t._)("label",{class:"small mb-1",for:"inputEmailAddress"},"Email address",-1))),C={class:"row gx-3 mb-3"},V={class:"col-md-6"},G=l((()=>(0,t._)("label",{class:"small mb-1",for:"inputPhone"},"Phone number",-1))),A={class:"col-md-6"},H=l((()=>(0,t._)("label",{class:"small mb-1",for:"inputGender"},"Gender",-1))),L=l((()=>(0,t._)("option",{value:"male"},"Male",-1))),M=l((()=>(0,t._)("option",{value:"female"},"Female",-1))),Z=[L,M],$=l((()=>(0,t._)("hr",{class:"my-3"},null,-1))),B={class:""},S={class:"mb-3"},F=l((()=>(0,t._)("label",{class:"small mb-1",for:"inputUpdatePassword"},[(0,t._)("i",{class:"fa-solid fa-key"}),(0,t.Uk)(" Update Password")],-1)));function J(a,e,s,l,g,L){const M=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("nav",n,[(0,t.Wm)(M,{class:"nav-link active ms-0",to:"/profile"},{default:(0,t.w5)((()=>[(0,t.Uk)("Profile")])),_:1})]),i,(0,t._)("div",d,[(0,t._)("div",c,[(0,t._)("div",p,[m,(0,t._)("div",u,[a.userInfo.profile_photo_path?((0,t.wg)(),(0,t.iD)("img",{key:0,class:"img-account-profile rounded-circle mb-2",src:a.imagePath+a.userInfo.profile_photo_path,alt:""},null,8,h)):((0,t.wg)(),(0,t.iD)("img",{key:1,class:"img-account-profile rounded-circle mb-2",src:a.server+"img/def_user.webp",alt:""},null,8,f)),b,v,(0,t._)("input",{onChange:e[0]||(e[0]=a=>L.uploadImage(a)),id:"profile_image",class:"d-none",type:"file"},null,32)])])]),(0,t._)("div",_,[g.isLoading?((0,t.wg)(),(0,t.iD)("div",w,y)):((0,t.wg)(),(0,t.iD)("div",P,[D,(0,t._)("div",U,[(0,t._)("div",k,[I,(0,t.wy)((0,t._)("input",{class:"form-control",id:"inputUsername",type:"text",placeholder:"Enter your username","onUpdate:modelValue":e[1]||(e[1]=a=>g.formData.name=a)},null,512),[[r.nr,g.formData.name]])]),(0,t._)("div",x,[E,(0,t.wy)((0,t._)("input",{class:"form-control",id:"inputEmailAddress",type:"email",placeholder:"Enter your email address","onUpdate:modelValue":e[2]||(e[2]=a=>g.formData.email=a)},null,512),[[r.nr,g.formData.email]])]),(0,t._)("div",C,[(0,t._)("div",V,[G,(0,t.wy)((0,t._)("input",{class:"form-control",id:"inputPhone",type:"tel",placeholder:"Enter your phone number","onUpdate:modelValue":e[3]||(e[3]=a=>g.formData.phone=a)},null,512),[[r.nr,g.formData.phone]])]),(0,t._)("div",A,[H,(0,t.wy)((0,t._)("select",{id:"inputGender","onUpdate:modelValue":e[4]||(e[4]=a=>g.formData.gender=a),class:"form-select"},Z,512),[[r.bM,g.formData.gender]])])]),(0,t._)("button",{class:"btn btn-primary",onClick:e[5]||(e[5]=a=>L.saveInfo()),type:"button"},"Save changes"),$,(0,t._)("div",B,[(0,t._)("div",S,[F,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>g.updatePassword=a),class:"form-control",id:"inputUpdatePassword",type:"text",placeholder:"Enter your new password"},null,512),[[r.nr,g.updatePassword]])]),(0,t._)("button",{onClick:e[7]||(e[7]=a=>L.passwordUpdate()),class:"btn btn-primary"},"Updated Password")])])]))])])])}var N=s(196),T=s(907),W={name:"ProfileView",data(){return{formData:{name:"",email:"",phone:"",gender:""},isLoading:!1,updatePassword:""}},methods:{showpopup(a,e){if(a.success&&(this.$swal.fire({position:"center",icon:"success",title:e,showConfirmButton:!1,timer:1e3}),this.$store.dispatch("getUserData")),a.error){let e="";a.error.forEach((a=>{e+=a})),this.$swal.fire("Error",e,"error")}},uploadImage(a){let e=a.target.files[0],s=e.type.split("/");if("image"!=s[0])return void this.$swal.fire("Error","Data type must be image!","error");let t={image:e};N.ZP.post(this.api+"/user/image_change",t,this.authHeader).then((a=>{this.showpopup(a.data,"Profile photo updated.")}))},formDataChange(){this.formData={name:this.userInfo.name,email:this.userInfo.email,phone:this.userInfo.phone,gender:this.userInfo.gender}},saveInfo(){N.ZP.post(this.api+"/user/update",this.formData,this.authHeader).then((a=>{this.showpopup(a.data,"Profile information updated.")}))},passwordUpdate(){let a={password:this.updatePassword};N.ZP.post(this.api+"/user/update_password",a,this.authHeader).then((a=>{this.showpopup(a.data,"Password Updated"),a.data&&(this.updatePassword="")}))}},computed:{...(0,T.rn)(["api","server","userInfo","imagePath"]),...(0,T.Se)(["authHeader"]),name(){return this.data}},mounted(){"My Account"==this.userInfo.name?(this.isLoading=!0,setTimeout((()=>{this.formDataChange(),this.isLoading=!1}),2e3)):this.formDataChange()}},j=s(744);const q=(0,j.Z)(W,[["render",J],["__scopeId","data-v-979278bc"]]);var z=q}}]);
//# sourceMappingURL=230.b9df2364.js.map