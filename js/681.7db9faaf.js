"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[681],{681:function(t,a,e){e.r(a),e.d(a,{default:function(){return pt}});var s=e(252),l=e(577);const o={class:"container-fluid"},i={class:"row px-xl-5"},n={class:"col-12"},r={class:"breadcrumb bg-light mb-30"},d=(0,s._)("span",{class:"breadcrumb-item active"},"Shopping Cart",-1),c={class:"container-fluid"},u={class:"row px-xl-5"},m={class:"col-lg-8 table-responsive mb-5"},b={class:"table table-light table-borderless table-hover text-center mb-0"},h=(0,s._)("thead",{class:"thead-dark"},[(0,s._)("tr",null,[(0,s._)("th"),(0,s._)("th",null,"Products"),(0,s._)("th",null,"Price"),(0,s._)("th",null,"Quantity"),(0,s._)("th",null,"Total"),(0,s._)("th",null,"Remove")])],-1),p={key:0,class:"align-middle"},_={key:0},g={colspan:"8"},y={class:"align-middle"},k=["src"],f=["onClick"],v={class:"align-middle"},w={class:"align-middle"},C={class:"input-group quantity mx-auto",style:{width:"100px"}},q={class:"input-group-btn"},x=["onClick"],P=(0,s._)("i",{class:"fa fa-minus"},null,-1),z=[P],D=["value"],I={class:"input-group-btn"},S=["onClick"],T=(0,s._)("i",{class:"fa fa-plus"},null,-1),L=[T],H={class:"align-middle"},M={class:"align-middle"},Q=["onClick"],U=(0,s._)("i",{class:"fa fa-times"},null,-1),Z=[U],$={key:1},A=(0,s._)("tr",null,[(0,s._)("td",{colspan:"6"},[(0,s._)("div",{class:"text-center my-5 py-5"},[(0,s._)("div",{class:"spinner-border",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")])])])],-1),K=[A],R={class:"col-lg-4"},W=(0,s._)("h5",{class:"section-title position-relative text-uppercase mb-3"},[(0,s._)("span",{class:"bg-secondary pr-3"},"Cart Summary")],-1),j={class:"bg-light p-30 mb-5"},N={class:"border-bottom pb-2"},E={class:"d-flex justify-content-between mb-3"},J=(0,s._)("h6",null,"Subtotal",-1),O={class:"pt-2"},V={class:"modal fade",id:"moreInfo",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Y={class:"modal-dialog"},B={class:"modal-content"},F={class:"modal-header"},G={class:"modal-title fs-5",id:"exampleModalLabel"},X=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),tt={class:"modal-body"},at={class:"tab-pane fade active show",id:"tab-pane-2"},et=(0,s._)("h4",{class:"mb-3"},"Cart information",-1),st={class:"table table-striped"},lt={key:0},ot=(0,s._)("td",{class:"col-4"},[(0,s._)("b",null,"Color")],-1),it={key:1},nt=(0,s._)("td",{class:"col-4"},[(0,s._)("b",null,"Size")],-1),rt=(0,s._)("div",{class:"modal-footer"},[(0,s._)("button",{type:"button",class:"btn btn-dark","data-bs-dismiss":"modal"},"Close")],-1);function dt(t,a,e,P,T,U){const A=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",o,[(0,s._)("div",i,[(0,s._)("div",n,[(0,s._)("nav",r,[(0,s.Wm)(A,{to:"/",class:"breadcrumb-item text-dark",href:"#"},{default:(0,s.w5)((()=>[(0,s.Uk)("Home")])),_:1}),(0,s.Wm)(A,{to:"/shop",class:"breadcrumb-item text-dark",href:"#"},{default:(0,s.w5)((()=>[(0,s.Uk)("Shop")])),_:1}),d])])])]),(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("div",m,[(0,s._)("table",b,[h,T.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",p,[0==T.carts.length?((0,s.wg)(),(0,s.iD)("tr",_,[(0,s._)("td",g,[(0,s.Uk)("There is no cart items "),(0,s.Wm)(A,{class:"btn btn-primary",to:"/shop"},{default:(0,s.w5)((()=>[(0,s.Uk)("Shop Now")])),_:1})])])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(T.carts,((a,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",y,[(0,s._)("img",{src:t.imagePath+a.image,alt:"",style:{width:"50px"}},null,8,k)]),(0,s._)("td",{class:"align-middle text-start",onClick:t=>U.moreInfo(a),style:{cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#moreInfo"},(0,l.zw)(a.name),9,f),(0,s._)("td",v,(0,l.zw)(U.getProductInfo(a.information,"price")),1),(0,s._)("td",w,[(0,s._)("div",C,[(0,s._)("div",q,[a.qty>0?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>U.updateQty(a,"minus",e),class:"btn btn-sm btn-primary btn-minus"},z,8,x)):(0,s.kq)("",!0)]),(0,s._)("input",{type:"text",class:"form-control form-control-sm bg-secondary border-0 text-center",value:a.qty},null,8,D),(0,s._)("div",I,[a.remain_qty>a.qty?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>U.updateQty(a,"plus",e),class:"btn btn-sm btn-primary btn-plus"},L,8,S)):(0,s.kq)("",!0)])])]),(0,s._)("td",H,(0,l.zw)(U.getProductInfo(a.information,"price")*a.qty)+" MMK ",1),(0,s._)("td",M,[(0,s._)("button",{onClick:t=>U.removeCart(a.id,e),class:"btn btn-sm btn-danger"},Z,8,Q)])])))),128))])),T.isLoading?((0,s.wg)(),(0,s.iD)("tbody",$,K)):(0,s.kq)("",!0)])]),(0,s._)("div",R,[W,(0,s._)("div",j,[(0,s._)("div",N,[(0,s._)("div",E,[J,(0,s._)("h6",null,(0,l.zw)(U.getsubTotal)+" MMK",1)])]),(0,s._)("div",O,[0!=U.getsubTotal?((0,s.wg)(),(0,s.j4)(A,{key:0,to:"/checkout",class:"btn btn-block btn-primary font-weight-bold my-3 py-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("Proceed To Checkout")])),_:1})):(0,s.kq)("",!0),T.carts.length>2?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:a[0]||(a[0]=t=>U.removeAllCart()),class:"btn btn-block btn-danger font-weight-bold my-3 py-3"},"Remove All Carts")):(0,s.kq)("",!0)])])])])]),(0,s._)("div",V,[(0,s._)("div",Y,[(0,s._)("div",B,[(0,s._)("div",F,[(0,s._)("h1",G,(0,l.zw)(T.modal.title),1),X]),(0,s._)("div",tt,[(0,s._)("div",at,[et,(0,s._)("table",st,[(0,s._)("tbody",null,[T.modal.color.length>0?((0,s.wg)(),(0,s.iD)("tr",lt,[ot,(0,s._)("td",null,(0,l.zw)(T.modal.color),1)])):(0,s.kq)("",!0),T.modal.color.length>0?((0,s.wg)(),(0,s.iD)("tr",it,[nt,(0,s._)("td",null,(0,l.zw)(T.modal.size),1)])):(0,s.kq)("",!0)])]),(0,s._)("button",{class:"btn btn-sm btn-link",onClick:a[1]||(a[1]=t=>U.toToProduct(T.modal.more)),"data-bs-dismiss":"modal"},"More information of "+(0,l.zw)(T.modal.title),1)])]),rt])])])])}var ct=e(196),ut=e(907),mt={name:"CartView",data(){return{carts:[],isLoading:!0,subTotal:0,modal:{title:"",color:"",size:"",more:""}}},methods:{getCarts(){ct.ZP.post(this.api+"/cart",{},this.authHeader).then((t=>{this.isLoading=!1,this.carts=t.data}))},getProductInfo(t,a){const e=JSON.parse(t);let s="";for(let l=0;l<e.length;l++)if(e[l].key.toLowerCase()==a){s=e[l].value;break}return s},updateQty(t,a,e){let s=t.qty;"plus"==a&&t.qty++,"minus"==a&&t.qty--;let l={id:t.id,qty:t.qty};ct.ZP.post(this.api+"/cart/qty/change",l,this.authHeader).then((a=>{a&&0==t.qty&&this.removeCart(t.id,e)})).catch((a=>{console.log(a),t.qty=s}))},removeCart(t,a){ct.ZP["delete"](this.api+"/cart/delete/"+t,this.authHeader).then((t=>{t.data.success&&(console.log("success"),this.carts.splice(a,1))})).catch((t=>console.log(t.response)))},moreInfo(t){this.modal.title=t.name,this.modal.color=t.color,this.modal.size=t.size,this.modal.more="/shop/products/"+t.product_id},toToProduct(t){this.$router.push(t)},removeAllCart(){ct.ZP.post(this.api+"/cart/delete",{},this.authHeader).then((t=>{t.data.success&&(this.$swal.fire("Success","Cart Items Removed","info"),this.getCarts())}))}},computed:{...(0,ut.rn)(["api","imagePath"]),...(0,ut.Se)(["authHeader"]),getsubTotal(){let t=0;return this.carts.forEach((a=>{t+=a.qty*this.getProductInfo(a.information,"price")})),t}},mounted(){this.getCarts(),this.$store.state.activePage=""},updated(){this.$store.dispatch("getCartQty")}},bt=e(744);const ht=(0,bt.Z)(mt,[["render",dt]]);var pt=ht}}]);
//# sourceMappingURL=681.7db9faaf.js.map