"use strict";(self["webpackChunkvue_shop"]=self["webpackChunkvue_shop"]||[]).push([[152],{152:function(e,t,a){a.r(t),a.d(t,{default:function(){return ue}});var s=a(252),l=a(963),r=a(577);const o=(0,s.uE)('<div class="container-fluid"><div class="row px-xl-5"><div class="col-12"><nav class="breadcrumb bg-light mb-30"><a class="breadcrumb-item text-dark" href="#">Home</a><a class="breadcrumb-item text-dark" href="#">Shop</a><span class="breadcrumb-item active">Checkout</span></nav></div></div></div>',1),i={class:"container-fluid"},n={class:"row px-xl-5"},u={class:"col-lg-8"},c=(0,s._)("h5",{class:"section-title position-relative text-uppercase mb-3"},[(0,s._)("span",{class:"bg-secondary pr-3"},"Billing Address")],-1),d={class:"bg-light p-30 mb-5"},h={class:"row"},p={class:"col-md-6 form-group"},m=(0,s._)("label",null,"Name",-1),_=["value"],v={class:"col-md-6 form-group"},b=(0,s._)("label",null,"E-mail",-1),y=["value"],g={class:"col-md-6 form-group"},w=(0,s._)("label",null,"Mobile No-1",-1),f={class:"col-md-6 form-group"},D=(0,s._)("label",null,"Mobile No-2",-1),k={class:"col-md-6 form-group"},x=(0,s._)("label",null,"City",-1),C=(0,s._)("option",{value:""},"Please Select City..",-1),T=["value"],P={class:"col-md-6 form-group"},q=(0,s._)("label",null,"Township",-1),O=(0,s._)("option",{value:""},"Please Select Township..",-1),S=["value"],M={class:"col-md-12 form-group"},z=(0,s._)("label",null,"payment",-1),F=(0,s._)("option",{value:"cach"},"Cach",-1),H=(0,s._)("option",{value:"wave pay"},"Wave Pay",-1),I=(0,s._)("option",{value:"kpay"},"Kpay",-1),V=[F,H,I],K={class:"col-md-12 form-group"},U=(0,s._)("label",null,"Address",-1),$={class:"col-lg-4"},E=(0,s._)("h5",{class:"section-title position-relative text-uppercase mb-3"},[(0,s._)("span",{class:"bg-secondary pr-3"},"Order Total")],-1),N={class:"bg-light p-30 mb-5"},j={class:"border-bottom"},A=(0,s._)("h6",{class:"mb-3"},"Products",-1),L={class:"col-7"},Y={class:"border-bottom pt-3 pb-2"},Z={class:"d-flex justify-content-between mb-3"},B=(0,s._)("h6",null,"Subtotal",-1),J={class:"d-flex justify-content-between"},Q=(0,s._)("h6",{class:"font-weight-medium"},"Delivery Fee",-1),W={class:"font-weight-medium"},G={class:"pt-2"},R={class:"d-flex justify-content-between mt-2"},X=(0,s._)("h5",null,"Total",-1),ee={class:"mb-5"},te={class:"bg-light p-30"},ae=["disabled"];function se(e,t,a,F,H,I){return(0,s.wg)(),(0,s.iD)("div",null,[o,(0,s._)("div",i,[(0,s._)("form",{onSubmit:t[7]||(t[7]=e=>I.placeOrder())},[(0,s._)("div",n,[(0,s._)("div",u,[c,(0,s._)("div",d,[(0,s._)("div",h,[(0,s._)("div",p,[m,(0,s._)("input",{required:"",value:e.userInfo.name,readonly:"",class:"form-control",type:"text",placeholder:"John"},null,8,_)]),(0,s._)("div",v,[b,(0,s._)("input",{required:"",readonly:"",value:e.userInfo.email,class:"form-control",type:"text",placeholder:"example@email.com"},null,8,y)]),(0,s._)("div",g,[w,(0,s.wy)((0,s._)("input",{required:"","onUpdate:modelValue":t[0]||(t[0]=e=>H.userData.phone_1=e),class:"form-control",type:"tel",placeholder:"+123 456 789"},null,512),[[l.nr,H.userData.phone_1]])]),(0,s._)("div",f,[D,(0,s.wy)((0,s._)("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=e=>H.userData.phone_2=e),class:"form-control",type:"tel",placeholder:"+123 456 789"},null,512),[[l.nr,H.userData.phone_2]])]),(0,s._)("div",k,[x,(0,s.wy)((0,s._)("select",{required:"",onChange:t[2]||(t[2]=e=>I.changeTown()),"onUpdate:modelValue":t[3]||(t[3]=e=>H.userData.city=e),class:"custom-select"},[C,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.cities,((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.toLowerCase(),key:t},(0,r.zw)(e),9,T)))),128))],544),[[l.bM,H.userData.city]])]),(0,s._)("div",P,[q,(0,s.wy)((0,s._)("select",{required:"","onUpdate:modelValue":t[4]||(t[4]=e=>H.userData.township=e),class:"custom-select"},[O,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(I.getTownship(),((e,t)=>((0,s.wg)(),(0,s.iD)("option",{value:e.toLowerCase(),key:t},(0,r.zw)(e),9,S)))),128))],512),[[l.bM,H.userData.township]])]),(0,s._)("div",M,[z,(0,s.wy)((0,s._)("select",{required:"","onUpdate:modelValue":t[5]||(t[5]=e=>H.userData.payment=e),class:"custom-select"},V,512),[[l.bM,H.userData.payment]])]),(0,s._)("div",K,[U,(0,s.wy)((0,s._)("textarea",{required:"","onUpdate:modelValue":t[6]||(t[6]=e=>H.userData.address=e),rows:"6",class:"form-control"},null,512),[[l.nr,H.userData.address]])])])])]),(0,s._)("div",$,[E,(0,s._)("div",N,[(0,s._)("div",j,[A,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.carts,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"d-flex justify-content-between"},[(0,s._)("p",L,(0,r.zw)(e.name)+" x "+(0,r.zw)(e.qty),1),(0,s._)("p",null,(0,r.zw)(I.getProductInfo(e.information,"price")*e.qty),1)])))),128))]),(0,s._)("div",Y,[(0,s._)("div",Z,[B,(0,s._)("h6",null,(0,r.zw)(I.getsubTotal)+" MMK",1)]),(0,s._)("div",J,[Q,(0,s._)("h6",W,(0,r.zw)(H.userData.deliveryFee)+" MMK",1)])]),(0,s._)("div",G,[(0,s._)("div",R,[X,(0,s._)("h5",null,(0,r.zw)(I.getsubTotal+H.userData.deliveryFee),1)])])]),(0,s._)("div",ee,[(0,s._)("div",te,[(0,s._)("button",{disabled:!I.dataStatus,class:"btn btn-block btn-primary font-weight-bold py-3"},"Place Order",8,ae)])])])])],32)])])}var le=a(196),re=a(907),oe={name:"CheckoutView",data(){return{carts:[],userData:{phone_1:"",phone_2:"",city:"",township:"",deliveryFee:0,address:"",payment:"cach"},townships:{yangon:["North Okkalapa","South Okkalapa","Bahan","Mayangyone","Thingangyun","Thakatha","Lamadaw"],bago:["OkaPho","ThanatPin"]},cities:["Yangon","Bago"]}},methods:{getOldDetail(){le.ZP.get(this.api+"/order/old_detail",this.authHeader).then((e=>{if(e.data){this.userData.phone_2=e.data.phone_2;let t=e.data.city.split(",");this.userData.city=t[0].trim(),this.changeTown(),this.userData.township=t[1].trim(),this.userData.address=e.data.address}}))},getCarts(){le.ZP.post(this.api+"/cart",{},this.authHeader).then((e=>{this.carts=e.data,this.userData.phone_1=this.userInfo.phone}))},getProductInfo(e,t){const a=JSON.parse(e);let s="";for(let l=0;l<a.length;l++)if(a[l].key.toLowerCase()==t){s=a[l].value;break}return s},changeTown(){this.userData.township="","yangon"==this.userData.city?this.userData.deliveryFee=3e3:"bago"==this.userData.city?this.userData.deliveryFee=5e3:""==this.userData.city&&(this.userData.deliveryFee=0)},getTownship(){return"yangon"==this.userData.city?this.townships.yangon:"bago"==this.userData.city?this.townships.bago:void 0},placeOrder(){event.preventDefault(),this.isActive?le.ZP.post(this.api+"/order/add",this.userData,this.authHeader).then((e=>{if(e.data.success&&(this.$swal.fire("Success","Order Created.","success"),this.$router.push("/shop"),this.$store.dispatch("getCartQty")),e.data.error){let t="";e.data.error.forEach((e=>{t+=e,"Please activate account first!"==e&&this.$router.push("/otp_confirm")})),this.$swal.fire("Error",t,"error")}})):this.$router.push("/otp_confirm")}},computed:{...(0,re.rn)(["api","userInfo"]),...(0,re.Se)(["authHeader","isActive"]),getsubTotal(){let e=0;return this.carts.forEach((t=>{e+=t.qty*this.getProductInfo(t.information,"price")})),e},dataStatus(){return""!=this.userData.phone_1&&""!=this.userData.phone_2&&""!=this.userData.city&&""!=this.userData.township&&0!=this.userData.deliveryFee&&""!=this.userData.address}},mounted(){this.getCarts(),this.getOldDetail()}},ie=a(744);const ne=(0,ie.Z)(oe,[["render",se]]);var ue=ne}}]);
//# sourceMappingURL=152.f502bced.js.map