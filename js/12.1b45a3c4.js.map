{"version":3,"file":"js/12.1b45a3c4.js","mappings":"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","sources":["webpack://vue-shop/./src/views/auth/OtpInputView.vue","webpack://vue-shop/./src/views/auth/OtpInputView.vue?787c"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <div class=\"row justify-content-center\">\r\n            <div class=\"col-md-8\">\r\n                <div v-if=\"isLoading\" class=\"text-center\">\r\n                    <div class=\"spinner-border\" role=\"status\">\r\n                        <span class=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    <span class=\"\">Getting User Data</span>\r\n                </div>\r\n                <div v-if=\"!isLoading\" class=\"card\">\r\n                    <small v-if=\"state==2\" class=\"m-1\">Otp Code is sent to {{ formData.email }}</small>\r\n                    <div class=\"card-header\"><span>Enter Email</span> <span>Enter OTP Code</span></div>\r\n                    <div class=\"card-body\">\r\n                        <div v-if=\"state == 1\">\r\n                            <label for=\"\">Email Address</label>\r\n                            <input type=\"email\" v-model=\"formData.email\" placeholder=\"...@gmail.com\"\r\n                                class=\"form-control\">\r\n                            <div class=\"text-end\">\r\n                                <button v-if=\"otpRequesting\" class=\"btn btn-primary mt-4\" type=\"button\" disabled>\r\n                                    <span class=\"spinner-border spinner-border-sm\" role=\"status\"\r\n                                        aria-hidden=\"true\"></span>\r\n                                    Loading...\r\n                                </button>\r\n                                <button v-else  @click=\"requestOtp()\" class=\"btn btn-primary mt-4\"\r\n                                    :disabled=\"formData.email.length < 3\">Request Otp</button>\r\n                            </div>\r\n                        </div>\r\n                        <div v-if=\"state == 2\">\r\n                            <label for=\"\">OtpCode</label>\r\n                            <input type=\"text\" placeholder=\"######\" v-model=\"formData.code\" class=\"form-control\"\r\n                                autocomplete=\"none\" maxlength=\"6\">\r\n                            <button @click=\"requestOtp()\" :disabled=\"resentOtpTime > 0\" class=\"btn btn-link mt-4\">Resent\r\n                                Otp <span v-if=\"resentOtpTime > 0\">{{ resentOtpTime }}</span></button>\r\n                            <button class=\"btn btn-primary mt-4 float-end\" @click=\"submitOtp()\">Submit </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { mapGetters, mapState } from 'vuex'\r\nexport default {\r\n    name: \"OtpInputView\",\r\n    data() {\r\n        return {\r\n            formData: {\r\n                email: '',\r\n                code: ''\r\n            },\r\n            state: 1,\r\n            isLoading: true,\r\n            resentOtpTime: 10,\r\n            otpRequesting:false,\r\n        }\r\n    },\r\n    methods: {\r\n        requestOtp() {\r\n            this.otpRequesting = true;\r\n            axios.post(this.api + '/req_otp_code', this.formData, this.authHeader).then(r => {\r\n                if (r.data.success) {\r\n                    this.state = 2;\r\n                    this.resentOtpCount();\r\n                    this.otpRequesting = false;\r\n                }\r\n            }).catch(err=>this.otpRequesting = false);\r\n        },\r\n        resentOtpCount() {\r\n            this.resentOtpTime = 15;\r\n            let count = setInterval(() => {\r\n                this.resentOtpTime--;\r\n                if (this.resentOtpTime == 0) {\r\n                    clearInterval(count);\r\n                }\r\n            }, 1000);\r\n        },\r\n        submitOtp() {\r\n            axios.post(this.api + '/otp/submit', this.formData, this.authHeader).then(r => {\r\n                if (r.data.success) {\r\n                    this.$store.dispatch('getUserData');\r\n                    this.$swal.fire('Success', 'Otp Code is right.', 'success');\r\n                    this.$router.go(-1)\r\n                } else if (r.data.error) {\r\n                    let errorText = '';\r\n                    r.data.error.forEach(e => {\r\n                        errorText += e;\r\n                    });\r\n                    this.$swal.fire('Error', errorText, 'error');\r\n                }\r\n            });\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState(['userInfo', 'api']),\r\n        ...mapGetters(['authHeader']),\r\n    },\r\n    mounted() {\r\n        setTimeout(() => {\r\n            this.formData.email = this.userInfo.email;\r\n            this.isLoading = false\r\n        }, 2000);\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import { render } from \"./OtpInputView.vue?vue&type=template&id=7d2a8961\"\nimport script from \"./OtpInputView.vue?vue&type=script&lang=js\"\nexport * from \"./OtpInputView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\a to z\\\\projects\\\\shop_vue+laravel\\\\vue-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","for","type","disabled","isLoading","state","formData","email","placeholder","requestOtp","length","autocomplete","maxlength","code","resentOtpTime","submitOtp","name","data","otpRequesting","methods","this","axios","api","authHeader","then","r","success","resentOtpCount","catch","err","count","setInterval","clearInterval","$store","dispatch","$swal","fire","$router","go","error","errorText","forEach","e","computed","mounted","setTimeout","userInfo","__exports__","render"],"sourceRoot":""}